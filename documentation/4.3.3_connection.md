# Chapter 4.3.3: Connection to SAP Commerce Mock

Within this chapter the following steps will be performed and are described below:

* Registration of the SAP Commerce Mock as a System in the SAP BTP Cockpit (Token) and Perform the Handshake (via Token) to connect the SAP Commerce Mock System with SAP BTP / Kyma 
* Create a Formation (Make it available to the Subaccount)
* Register the provided APIs / Events

and Setup of the connectionn between the SAP Commerce Mock and orders-service Microservice
*

## Registration of the SAP Commerce Mock as a System in the SAP BTP Cockpit (Token)

1. Go to the SAP BTP Cockpit -> System Landscape -> Systems. Click on "Register System". Enter as shown below a specific name for the System and select the type of system. click on Register.

2. Now a token for the new system has be created. Copy this into the clipboard as shown below and close the window. You will see that the new system is in status "Pending".

![](images/03_SAP-BTP_Register_sap-commerce-mock.png)

3. To get the SAP-Commerce-Mock system as consuming system, connected to SAP BTP / Kyma the token has to be copied into the Connection field in the SAP Commerce Mock, to perform the first handshake. To do so, open the SAP Commerce Mock System and click on "Connect". Paste the Token in and click on "Connect". 

![](images/03_SAP-commerce-mock_paste_token.png)

4. After successful exchange, the system status in the SAP Commerce Mock and in the SAP BTP will change to "Registered". So to say, the Systems do now know each other.

![](images/03_SAP-commerce-mock_paste_token.png)

5. As the SAP-commerce-mock is already providing several APIs and Events, we are now going to register all of them with the Kyma Environment. For this click on "Register All" in the SAP-Commerce-Mock Application. After a short time all APIs are registered as shown below.

![](images/03_SAP-commerce-mock_registerAPIs.png)


## Create a Formation (Make it available to the Subaccount)

-----NEXT ------

## Register the provided APIs / Events

Registration of the SAP Commerce Mock in SAP BTP


## Bind the Serivices and Events to the Namespace orders-service

All or some can be made available
- Bind one event to the orders service
- Additional Service in the Service Catalog



























## Deployment of the SAP Commerce Mock as consuming system
- https://blogs.sap.com/2020/06/17/sap-cloud-platform-extension-factory-kyma-runtime-mock-applications/
- 





## Registration and Setup of the connection

1. Registration of the SAP Commerce Mock (as SAP Commerce Cloud) which the Microservice "orders-service"

[LINK](URL)


2. 



![](--pic name---)

3. 

4. 

5. 


# Sources

- Guide: https://blogs.sap.com/2020/06/17/sap-cloud-platform-extension-factory-kyma-runtime-commerce-mock-events-and-apis/

## Summary and next step

With this chapter the SAP Commerce Mock and the Microservice have been connected. As next step the connection and functionality has to be tested.

[Next - Chapter 4.3.4: Testing of the functionality](https://github.com/klouisbrother/ba-kyma-prototype/blob/main/documentation/4.3.4_testing.md) 


